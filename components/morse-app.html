<!-- -*- mode: html; indent-tabs-mode: nil; -*- -->
<html>
  <head>
    <link rel="import" href="../bower_components/core-scaffold/core-scaffold.html">
    <link rel="import" href="../bower_components/core-menu/core-menu.html">
    <link rel="import" href="../bower_components/core-pages/core-pages.html">
    <link rel="import" href="../bower_components/paper-item/paper-item.html">
  </head>
  <body>
    <polymer-element name="morse-app">

      <template>
	<style>    
	  core-scaffold {
	    position: absolute;
	    top: 0px;
	    right: 0px;
	    bottom: 0px;
	    left: 0px;
	    width: 100%;
	    height: 100%;
	  }
	  core-header-panel {
	    background-color: rgb(255, 255, 255);
	  }
	  core-toolbar {
	    color: rgb(255, 255, 255);
	    background-color: rgb(79, 125, 201);
	  }
	  core-menu {
	    font-size: 16px;
	  }
	</style>
	<core-scaffold>
	  <core-header-panel mode="seamed" navigation flex>
            <core-toolbar></core-toolbar>
            <core-menu valueattr="label" selected="{{selected}}" >
	      <content select="paper-item"></content>
            </core-menu>
	  </core-header-panel>
	  <div tool id="title_bar_div">Morse Code > <span>{{selected}}</span></div>
	  <core-pages id="pages" valueattr="label" selected="{{selected}}">
	    <content></content>
	  </core-pages>
	</core-scaffold>
      </template>

      <script>
    Polymer('morse-app', {
	publish : {
	    selected: "About",
	},
	selectedChanged : function(oldv, newv) {
	    var items = this.$.pages.items;
	    if (typeof oldv !== 'undefined' && items[oldv].onblur) items[oldv].onblur();
	    if (typeof newv !== 'undefined' && items[newv].onfocus) items[newv].onfocus();
	},
	attached: function () {
	    this.selectedChanged(undefined, this.selected);
	},
	detached: function() {
	    this.selectedChanged(this.selected, undefined);
	},

    });
      </script>

    </polymer-element>
  </body>
</html>

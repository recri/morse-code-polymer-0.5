<html>
  <head>
    <link rel="import" href="../bower_components/core-scaffold/core-scaffold.html">
    <link rel="import" href="../bower_components/core-menu/core-menu.html">
    <link rel="import" href="../bower_components/core-pages/core-pages.html">

    <link rel="import" href="../bower_components/paper-item/paper-item.html">
    
  </head>
  <body>
    <polymer-element name="morse-app">

      <template>
	<style>    
	  #core_scaffold {
	    position: absolute;
	    top: 0px;
	    right: 0px;
	    bottom: 0px;
	    left: 0px;
	    width: 100%;
	    height: 100%;
	  }
	  #core_header_panel {
	    background-color: rgb(255, 255, 255);
	  }
	  #core_toolbar {
	    color: rgb(255, 255, 255);
	    background-color: rgb(79, 125, 201);
	  }
	  #core_menu {
	    font-size: 16px;
	  }
	</style>
	<core-scaffold id="core_scaffold">
	  <core-header-panel mode="seamed" id="core_header_panel" navigation flex>
            <core-toolbar id="core_toolbar"></core-toolbar>
            <core-menu id="core_menu" selected="0" on-core-select="{{core_select}}" >
	      <content select="paper-item"></content>
            </core-menu>
	  </core-header-panel>
	  <div id="div" tool>Morse Code</div>
	  <core-pages id="core_pages" selected="0">
	    <content></content>
	  </core-pages>
	</core-scaffold>
      </template>

      <script>
    Polymer('morse-app', {
	created: function() {
            console.log('morse-app created');
	},
	ready : function() {
            console.log('morse-app ready');
	},
	attached: function () {
            console.log('morse-app attached');
	},
	domReady: function() {
            console.log('morse-app domReady');
	},
	detached: function() {
            console.log('morse-app detached');
	},
	attributeChanged: function(attrName, oldVal, newVal) {
            console.log(attrName, 'old: ' + oldVal, 'new:', newVal);
	},
	core_select : function(e, d) {
	    if (d.isSelected)
		this.$.core_pages.selected = this.$.core_menu.selected;
	    var item = this.$.core_pages.items[this.$.core_pages.selected];
	    if (d.isSelected) {
		if (item.onfocus) item.onfocus();
	    } else {
		if (item.onblur) item.onblur();
	    }
	},

    });
      </script>

    </polymer-element>
  </body>
</html>
